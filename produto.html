<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalhes do Produto - ecobuy</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Banner de frete -->
  <div class="shipping-banner">
    <div class="container">
      <p>Frete grátis para compras acima de R$ 150,00. <a href="javascript:void(0)">Saiba mais</a></p>
    </div>
  </div>
  <!-- Header completo -->
  <header class="header">
    <div class="header-container">
      <button aria-label="Botão" class="menu-button mobile-only">
        <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><line x1="3" x2="21" y1="12" y2="12"></line><line x1="3" x2="21" y1="6" y2="6"></line><line x1="3" x2="21" y1="18" y2="18"></line></svg>
      </button>
      <a class="logo" href="index.html">
        <img src="./assets/img/Logo.svg" alt="Logo da Ecobuy">
      </a>
      <nav class="desktop-nav">
        <ul class="nav-menu">
          <li><a class="nav-link" href="index.html">Home</a></li>
          <li><a class="nav-link" href="sobre.html">Sobre nós</a></li>
          <li class="dropdown">
            <a class="nav-link" href="produtos.html">Produtos <svg fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></a>
            <div class="dropdown-content">
              <a href="produtos.html?categoria=skincare">Skincare</a>
              <a href="produtos.html?categoria=corpo">Corpo e Banho</a>
              <a href="produtos.html?categoria=cabelo">Cabelos</a>
              <a href="produtos.html?categoria=rosto">Rosto</a>
              <a href="produtos.html?categoria=maquiagem">Maquiagem Natural</a>
              <a href="produtos.html?categoria=kits">Kits e Presentes</a>
              <a href="produtos.html?categoria=casa">Casa Sustentável</a>
              <a href="produtos.html?categoria=perfumaria">Perfumaria</a>
              <a href="produtos.html?categoria=vegano">Vegano</a>
              <a href="produtos.html?categoria=organico">Orgânico</a>
            </div>
          </li>
          <li><a class="nav-link" href="parceiros.html">Parceiros</a></li>
          <li><a class="nav-link" href="contato.html">Contato</a></li>
        </ul>
      </nav>
      <div class="header-icons">
        <a class="icon-link" href="javascript:void(0)">
          <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="8"></circle><line x1="21" x2="16.65" y1="21" y2="16.65"></line></svg>
        </a>
        <a class="icon-link" href="javascript:void(0)">
          <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
        </a>
        <a class="icon-link cart-icon" href="cart.html">
          <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
          <span class="cart-count">0</span>
        </a>
      </div>
    </div>
    <div class="search-container">
      <div class="search-box">
        <input placeholder="O que você está procurando?" type="text" />
        <button aria-label="Botão" class="search-button">
          <svg fill="none" height="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="8"></circle><line x1="21" x2="16.65" y1="21" y2="16.65"></line></svg>
        </button>
      </div>
    </div>
  </header>
  <!-- Cupom banner -->
  <div class="coupon-banner">
    <div class="container">
      <p>Use o cupom <strong>ECO</strong> e ganhe 3% OFF em sua compra!</p>
    </div>
  </div>
  <main class="container">
    <div class="content-page" style="margin-top: 30px;">
      <button onclick="window.history.back()" class="btn btn-outline-green" style="margin-bottom: 20px;">&larr; Voltar</button>
      <div class="breadcrumbs"><a href="index.html">Home</a> &gt; <a href="produtos.html">Produtos</a> &gt; <span id="breadcrumb-product-name"></span></div>
      <div class="product-detail-grid" style="display: flex; gap: 40px; flex-wrap: wrap; align-items: flex-start;">
        <div class="product-detail-image" style="flex:1; min-width: 320px; background:#f5f5f5; border-radius:12px; padding:24px; display:flex; align-items:center; justify-content:center;">
          <img id="main-product-image" src="" alt="" style="width:100%; max-width:340px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.04);">
        </div>
        <div class="product-detail-info" style="flex:2; min-width: 320px;">
          <h1 id="product-title" style="font-size:2rem; color:var(--verde); margin-bottom:10px;"></h1>
          <div class="product-price" style="font-size:1.5rem; font-weight:700; color:var(--verde); margin-bottom:8px;">
            <span class="current-price" id="product-price"></span>
            <span class="original-price" id="product-original-price" style="display:none; margin-left:10px; color:#999; text-decoration:line-through; font-size:1.1rem;"></span>
            <span class="discount-badge" id="discount-badge" style="display:none; margin-left:10px;"></span>
          </div>
          <div class="product-rating" id="product-rating" style="margin-bottom:8px;"></div>
          <div class="installment-info" id="installment-info" style="margin-bottom:8px;"></div>
          <div class="stock-info" id="stock-info" style="margin-bottom:8px;"></div>
          <div class="product-tags" id="product-tags" style="margin-bottom:8px;"></div>
          <p class="product-description" id="product-description" style="margin-bottom:18px;"></p>
          <div style="display:flex; gap:12px; flex-wrap:wrap;">
            <button class="btn btn-add-cart-large" id="add-to-cart-btn" style="flex:1; min-width:180px;">Adicionar ao carrinho</button>
            <button class="btn btn-wishlist-large" id="add-to-wishlist-btn" style="flex:1; min-width:180px;">❤ Adicionar aos favoritos</button>
          </div>
        </div>
      </div>
      <hr style="margin:40px 0 30px 0; border:none; border-top:1px solid #eee;">
      <section class="ratings-section">
        <h2 style="font-size:1.3rem; margin-bottom:18px;">Avaliações dos clientes</h2>
        <div id="reviews-list"></div>
        <div class="write-review" style="margin-top:30px;">
          <h3>Deixe sua avaliação</h3>
          <form id="review-form">
            <div class="rating-input">
              <label for="review-rating">Nota:</label>
              <div id="star-rating" style="display:flex; gap:4px; cursor:pointer;">
                <!-- Estrelas serão renderizadas via JS -->
              </div>
              <input type="hidden" id="review-rating" value="5" required />
            </div>
            <div class="form-group">
              <label for="review-text">Comentário:</label>
              <textarea id="review-text" required maxlength="300" placeholder="Conte como foi sua experiência..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Enviar avaliação</button>
          </form>
        </div>
      </section>
    </div>
  </main>
  <footer class="footer">
    <div class="container">
      <div class="newsletter-box">
        <h3>Receba nossas novidades</h3>
        <p>Cadastre-se para receber ofertas exclusivas e dicas de sustentabilidade</p>
        <form class="newsletter-form">
          <input placeholder="Seu e-mail" type="email" />
          <button class="btn btn-primary" type="submit">Cadastrar</button>
        </form>
      </div>
      <div class="social-media">
        <h3>Siga-nos nas redes sociais</h3>
        <div class="social-icons">
          <a class="social-icon" href="javascript:void(0)">
            <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
          </a>
          <a class="social-icon" href="javascript:void(0)">
            <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><rect height="20" rx="5" ry="5" width="20" x="2" y="2"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></svg>
          </a>
          <a class="social-icon" href="javascript:void(0)">
            <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
          </a>
          <a class="social-icon" href="javascript:void(0)">
            <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
          </a>
        </div>
      </div>
      <div class="footer-links">
        <div class="footer-column">
          <h3>Institucional</h3>
          <a href="sobre.html">Sobre nós</a>
          <a href="javascript:void(0)">Sustentabilidade</a>
          <a href="javascript:void(0)">Trabalhe conosco</a>
          <a href="javascript:void(0)">Termos de uso</a>
          <a href="javascript:void(0)">Política de privacidade</a>
        </div>
        <div class="footer-column">
          <h3>Ajuda</h3>
          <a href="contato.html">Central de atendimento</a>
          <a href="javascript:void(0)">Como comprar</a>
          <a href="javascript:void(0)">Prazos de entrega</a>
          <a href="javascript:void(0)">Trocas e devoluções</a>
          <a href="javascript:void(0)">Pagamentos</a>
        </div>
        <div class="footer-column">
          <h3>Minha conta</h3>
          <a href="javascript:void(0)">Meus pedidos</a>
          <a href="javascript:void(0)">Meus dados</a>
          <a href="javascript:void(0)">Minhas avaliações</a>
          <a href="javascript:void(0)">Favoritos</a>
        </div>
      </div>
      <div class="copyright">
        <p>© 2025 Ecobuy - Todos os direitos reservados</p>
      </div>
    </div>
  </footer>
  <script src="assets/js/scripts.js"></script>
  <script>
    // Carregar detalhes do produto ao abrir a página
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const productId = urlParams.get('id');
      if (!productId || !window.productsDatabase || !window.productsDatabase[productId]) {
        document.getElementById('product-detail-view').innerHTML = '<h2>Produto não encontrado.</h2>';
        return;
      }
      const product = window.productsDatabase[productId];
      document.getElementById('main-product-image').src = product.image;
      document.getElementById('main-product-image').alt = product.name;
      document.getElementById('product-title').textContent = product.name;
      document.getElementById('breadcrumb-product-name').textContent = product.name;
      document.getElementById('product-price').textContent = 'R$ ' + product.price.toFixed(2).replace('.', ',');
      if (product.originalPrice) {
        document.getElementById('product-original-price').textContent = 'R$ ' + product.originalPrice.toFixed(2).replace('.', ',');
        document.getElementById('product-original-price').style.display = 'inline';
        // Badge de desconto
        const discount = Math.round(100 - (product.price / product.originalPrice * 100));
        document.getElementById('discount-badge').textContent = `-${discount}%`;
        document.getElementById('discount-badge').style.display = 'inline-block';
      }
      document.getElementById('product-description').textContent = product.description;
      // Tags
      const tagsContainer = document.getElementById('product-tags');
      tagsContainer.innerHTML = '';
      if (product.tags) {
        product.tags.forEach(tag => {
          const tagEl = document.createElement('span');
          tagEl.className = 'tag';
          tagEl.textContent = tag;
          tagsContainer.appendChild(tagEl);
        });
      }
      // Estoque
      const stockInfo = document.getElementById('stock-info');
      if (product.stock > 10) {
        stockInfo.innerHTML = '<span class="in-stock">Em estoque</span>';
      } else if (product.stock > 0) {
        stockInfo.innerHTML = `<span class="low-stock">Apenas ${product.stock} em estoque</span>`;
      } else {
        stockInfo.innerHTML = '<span class="out-of-stock">Fora de estoque</span>';
      }
      // Avaliação
      const ratingContainer = document.getElementById('product-rating');
      if (product.rating) {
        ratingContainer.innerHTML = `${generateStarRating(product.rating)} <span class="rating-value">${product.rating.toFixed(1)}</span>`;
      }
      // Parcelamento
      const installmentInfo = document.getElementById('installment-info');
      if (installmentInfo && product.price) {
        const installmentValue = (product.price / 2).toFixed(2).replace('.', ',');
        installmentInfo.textContent = `2 x de R$ ${installmentValue}`;
      }
      // Botão adicionar ao carrinho
      document.getElementById('add-to-cart-btn').addEventListener('click', function() {
        addToCart(product.id);
      });
      // Botão favoritos
      const wishlistBtn = document.getElementById('add-to-wishlist-btn');
      function updateWishlistBtn() {
        const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
        if (wishlist.includes(product.id)) {
          wishlistBtn.classList.add('active');
          wishlistBtn.textContent = '❤️ Remover dos favoritos';
        } else {
          wishlistBtn.classList.remove('active');
          wishlistBtn.textContent = '❤ Adicionar aos favoritos';
        }
      }
      wishlistBtn.addEventListener('click', function() {
        toggleWishlist(product.id);
        updateWishlistBtn();
      });
      updateWishlistBtn();

      // Mock de avaliações
      const reviews = [
        { nome: 'Ana', nota: 5, texto: 'Produto maravilhoso, entrega rápida e embalagem sustentável!' },
        { nome: 'Carlos', nota: 4, texto: 'Gostei bastante, só achei o cheiro um pouco forte.' },
        { nome: 'Juliana', nota: 5, texto: 'Superou minhas expectativas, recomendo muito!' },
        { nome: 'Rafael', nota: 3, texto: 'Produto bom, mas poderia ser mais barato.' }
      ];
      const reviewsList = document.getElementById('reviews-list');
      reviewsList.innerHTML = '';
      reviews.forEach(r => {
        const reviewDiv = document.createElement('div');
        reviewDiv.className = 'review';
        reviewDiv.innerHTML = `<div class="review-header"><span class="reviewer-name">${r.nome}</span> <span class="review-rating">${generateStarRating(r.nota)}</span></div><div class="review-text">${r.texto}</div>`;
        reviewsList.appendChild(reviewDiv);
      });
      // Estrelas de avaliação interativas
      function renderStarRatingInput() {
        const starContainer = document.getElementById('star-rating');
        if (!starContainer) return;
        let current = 5;
        const input = document.getElementById('review-rating');
        function updateStars() {
          starContainer.innerHTML = '';
          for (let i = 1; i <= 5; i++) {
            const star = document.createElement('span');
            star.innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 24 24' fill='${i <= current ? '#ffc107' : 'none'}' stroke='#ffc107' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'><polygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'></polygon></svg>`;
            star.style.cursor = 'pointer';
            star.addEventListener('click', () => {
              current = i;
              input.value = i;
              updateStars();
            });
            starContainer.appendChild(star);
          }
        }
        updateStars();
      }
      renderStarRatingInput();
      // Formulário de avaliação (mock)
      document.getElementById('review-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const nome = 'Você';
        const nota = Number(document.getElementById('review-rating').value);
        const texto = document.getElementById('review-text').value;
        const reviewDiv = document.createElement('div');
        reviewDiv.className = 'review';
        reviewDiv.innerHTML = `<div class="review-header"><span class="reviewer-name">${nome}</span> <span class="review-rating">${generateStarRating(nota)}</span></div><div class="review-text">${texto}</div>`;
        reviewsList.prepend(reviewDiv);
        this.reset();
        showNotification('Avaliação enviada!');
      });
    });
  </script>
</body>
</html> 